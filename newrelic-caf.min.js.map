{"version":3,"file":"newrelic-caf.min.js","mappings":"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","sources":["webpack://nrvideo/webpack/universalModuleDefinition","webpack://nrvideo/./node_modules/newrelic-video-core/src/backend.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/chrono.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/constants.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/core.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/emitter.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/index.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/log.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/plugins/nrinsightsbackend.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/tracker.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/videotracker.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/videotrackerstate.js","webpack://nrvideo/./src/ads.js","webpack://nrvideo/./src/index.js","webpack://nrvideo/./src/tracker.js","webpack://nrvideo/webpack/bootstrap","webpack://nrvideo/webpack/before-startup","webpack://nrvideo/webpack/startup","webpack://nrvideo/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"nrvideo\"] = factory();\n\telse\n\t\troot[\"nrvideo\"] = factory();\n})(self, () => {\nreturn ","/**\n * Backend class provides the basic logic to create event backends.\n * This class is intended to be subclassed, not directly used.\n *\n * @class Backend\n */\nclass Backend {\n  constructor(eventType) {\n    /**\n     * Custom attributes\n     * @private\n     */\n\n    this._attributes = {};\n    // this._eventType = eventType;\n  }\n\n  /**\n   * Sends given event (to be overwritten by a subclass).\n   * @param {String} event Event to send.\n   * @param {Object} data Data associated to the event.\n   */\n  send(event, data) {\n    data = Object.assign(data || {}, this._attributes);\n  }\n\n  /**\n   * Store custom attribute.\n   * @param {String} key Attribute name.\n   * @param {Object} value Attribute value.\n   */\n  setAttribute(key, value) {\n    this._attributes[key] = value;\n  }\n\n  /**\n   * Store custom attribute list.\n   * @param {Object} attr Attributes.\n   */\n  setAttributes(attr) {\n    this._attributes.append(attr);\n  }\n}\n\nexport default Backend;\n","/**\n * This class calculates time lapses between two points on time.\n */\nclass Chrono {\n  /**\n   * Constructor\n   */\n  constructor() {\n    this.reset();\n  }\n\n  /** Reset chrono values. */\n  reset() {\n    /** Start time */\n    this.startTime = 0;\n\n    /** Stop time */\n    this.stopTime = 0;\n\n    /**\n     * If you set an offset in a chrono, its value will be added getDeltaTime and stop.\n     *\n     * @example\n     * let chrono = new Chrono()\n     * chrono.offset = 500\n     * chrono.start()\n     * process.sleep(500)\n     * chrono.stop() // Will return 1000\n     *\n     * @type {number}\n     */\n    this.offset = 0;\n  }\n\n  /**\n   * Returns the time between start() and the last stop() in ms. Returns null if start wasn't\n   * called.\n   * @return {(number|null)} Time lapse in ms.\n   */\n  getDeltaTime() {\n    if (this.startTime) {\n      return this.offset + (new Date().getTime() - this.startTime);\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Starts the chrono.\n   */\n  start() {\n    this.startTime = new Date().getTime();\n    this.stopTime = 0;\n  }\n\n  /**\n   * Stops the timer and returns delta time.\n   * @return {(number|null)} Returns the delta time\n   */\n  stop() {\n    this.stopTime = new Date().getTime();\n    return this.getDeltaTime();\n  }\n\n  /**\n   * Creates a copy of the chrono.\n   * @returns {Chrono} Cloned chrono\n   */\n  clone() {\n    var chrono = new Chrono();\n    chrono.startTime = this.startTime;\n    chrono.stopTime = this.stopTime;\n    chrono.offset = this.offset;\n    return chrono;\n  }\n}\n\nexport default Chrono;\n","/**\n * Constants for the library.\n * @class Constants\n * @static\n */\nclass Constants {}\n\n/**\n * Enum for types/positions of ads.\n * @example var type = Constants.AdPositions.PRE\n * @enum {String}\n */\nConstants.AdPositions = {\n  /** For ads shown before the content. */\n  PRE: \"pre\",\n  /** For ads shown during the content. */\n  MID: \"mid\",\n  /** For ads shown after the content. */\n  POST: \"post\",\n};\n\nConstants.ACTION_TABLE = [\n  {\n    actionName: \"PLAYER_READY\",\n    time: 0,\n  },\n  {\n    actionName: \"DOWNLOAD\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_REQUEST\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_START\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_END\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_PAUSE\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_RESUME\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_SEEK_START\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_SEEK_END\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_BUFFER_START\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_BUFFER_END\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_ERROR\",\n    time: 0,\n  },\n  {\n    actionName: \"CONTENT_HEARTBEAT\",\n    time: 0,\n  },\n\n  {\n    actionName: \"CONTENT_RENDITION_CHANGE\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_REQUEST\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_START\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_END\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_SEEK_START\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_SEEK_END\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_PAUSE\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_RESUME\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_BUFFER_START\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_BUFFER_END\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_RENDITION_CHANGE\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_BREAK_START\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_BREAK_END\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_QUARTILE\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_CLICK\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_ERROR\",\n    time: 0,\n  },\n  {\n    actionName: \"AD_HEARTBEAT\",\n    time: 0,\n  },\n];\n\nexport default Constants;\n","import Log from \"./log\";\nimport Backend from \"./backend\";\n\n/**\n * Static class that sums up core functionalities of the library.\n * @static\n */\nclass Core {\n  /**\n   * Add a tracker to the system. Trackers added will start reporting its events to NR's backend.\n   *\n   * @param {(Emitter|Tracker)} tracker Tracker instance to add.\n   */\n  static addTracker(tracker) {\n    if (tracker.on && tracker.emit) {\n      trackers.push(tracker);\n      tracker.on(\"*\", eventHandler);\n      if (typeof tracker.trackerInit == \"function\") {\n        tracker.trackerInit();\n      }\n    } else {\n      Log.error(\"Tried to load a non-tracker.\", tracker);\n    }\n  }\n\n  /**\n   * Disposes and remove given tracker. Removes its listeners.\n   *\n   * @param {Tracker} tracker Tracker to remove.\n   */\n  static removeTracker(tracker) {\n    tracker.off(\"*\", eventHandler);\n    tracker.dispose();\n    let index = trackers.indexOf(tracker);\n    if (index !== -1) trackers.splice(index, 1);\n  }\n\n  /**\n   * Returns the array of trackers.\n   *\n   * @returns {Tracker[]} Array of trackers.\n   */\n  static getTrackers() {\n    return trackers;\n  }\n\n  /**\n   * Returns the current backend.\n   *\n   * @returns {Backend} The current backend.\n   */\n  static getBackend() {\n    return backend;\n  }\n\n  /**\n   * Sets the current backend.\n   * @param {Backend} backendInstance Backend instance.\n   */\n  static setBackend(backendInstance) {\n    backend = backendInstance;\n  }\n\n  /**\n   * Sends given event using the appropriate backend.\n   * @param {String} event Event to send.\n   * @param {Object} data Data associated to the event.\n   */\n  static send(eventType, actionName, data) {\n    if (\n      Core.getBackend() == undefined ||\n      !(Core.getBackend() instanceof Backend)\n    ) {\n      // Use the default backend (NR Agent)\n      if (typeof newrelic !== \"undefined\" && newrelic.addPageAction) {\n        //newrelic.addPageAction(eventType, actionName, data);\n        newrelic.recordCustomEvent(eventType, { actionName, ...data });\n      } else {\n        if (!isErrorShown) {\n          Log.error(\n            \"newrelic.recordCustomEvent() is not available.\",\n            \"In order to use NewRelic Video you will need New Relic Browser Agent.\"\n          );\n          isErrorShown = true;\n        }\n      }\n    } else {\n      // Use the user-defined backend\n      Core.getBackend().send(eventType, actionName, data);\n    }\n  }\n\n  /**\n   * Sends an error event. This may be used for external errors launched by the app, the network or\n   * any external factor. Note that errors within the player are normally reported with\n   * tracker.sendError, so this method should not be used to report those.\n   *\n   * @param {object} att attributes to be sent along the error.\n   */\n  static sendError(att) {\n    Core.send(\"ERROR\", att);\n  }\n}\n\nlet trackers = [];\nlet backend;\nlet isErrorShown = false;\n\n/**\n * Logs and sends given event.\n *\n * @private\n * @param {Event} e Event\n */\nfunction eventHandler(e) {\n  let data = cleanData(e.data);\n  if (Log.level <= Log.Levels.DEBUG) {\n    Log.notice(\"Sent\", e.type, data);\n  } else {\n    Log.notice(\"Sent\", e.type);\n  }\n\n  Core.send(e.eventType, e.type, data);\n}\n\n/**\n * Cleans given object, removing all items with value === null.\n * @private\n * @param {Object} data Data to clean\n * @returns {Object} Cleaned object\n */\nfunction cleanData(data) {\n  let ret = {};\n  for (let i in data) {\n    if (data[i] !== null && typeof data[i] !== \"undefined\") ret[i] = data[i];\n  }\n  return ret;\n}\n\nexport default Core;\n","/**\n * This base class implements a basic behavior of listeners and events. Extend this object to have\n * this feature built-in inside your classes.\n *\n * @class Emitter\n */\nclass Emitter {\n  /**\n   * Sets a listener to a given event. Use {@link emit} to trigger those events.\n   * Pass '*' to listen ALL events.\n   *\n   * @param {string} event Name of the event.\n   * @param {function} callback Callback of the event. Receives event and data.\n   * @return this\n   */\n  on(event, callback) {\n    this._listeners = this._listeners || {};\n    if (typeof callback === \"function\") {\n      this._listeners[event] = this._listeners[event] || [];\n      this._listeners[event].push(callback);\n      return this;\n    }\n  }\n\n  /**\n   * Removes given callback from the listeners of this object.\n   *\n   * @param {string} event Name of the event.\n   * @param {function} callback Callback of the event.\n   * @return this\n   */\n  off(event, callback) {\n    this._listeners = this._listeners || {};\n\n    if (this._listeners[event]) {\n      var index = this._listeners[event].indexOf(callback);\n      if (index !== -1) {\n        this._listeners[event].splice(index, 1);\n      }\n    }\n    return this;\n  }\n\n  /**\n   * Emits given event, triggering all the associated callbacks.\n   *\n   * @param {string} event Name of the event.\n   * @param {object} [data] Custom data to be sent to the callbacks.\n   * @return this\n   */\n  emit(eventType, event, data) {\n    this._listeners = this._listeners || {};\n    data = data || {};\n\n    if (Array.isArray(this._listeners[event])) {\n      this._listeners[event].forEach((callback) => {\n        callback.call(this, {\n          eventType,\n          type: event,\n          data: data,\n          target: this,\n        });\n      });\n    }\n\n    if (Array.isArray(this._listeners[\"*\"])) {\n      this._listeners[\"*\"].forEach((callback) => {\n        callback.call(this, {\n          eventType,\n          type: event,\n          data: data,\n          target: this,\n        });\n      });\n    }\n\n    return this;\n  }\n}\n\nexport default Emitter;\n","import Backend from \"./backend\";\nimport NRInsightsBackend from \"./plugins/nrinsightsbackend\";\nimport Core from \"./core\";\nimport Constants from \"./constants\";\nimport Chrono from \"./chrono\";\nimport Log from \"./log\";\nimport Emitter from \"./emitter\";\nimport Tracker from \"./tracker\";\nimport VideoTracker from \"./videotracker\";\nimport VideoTrackerState from \"./videotrackerstate\";\nimport { version } from \"../package.json\";\n\nexport {\n  Constants,\n  Chrono,\n  Log,\n  Emitter,\n  Tracker,\n  VideoTracker,\n  VideoTrackerState,\n  Core,\n  Backend,\n  NRInsightsBackend,\n  version,\n};\n","/**\n * Static Log class\n *\n * @class\n * @static\n */\nclass Log {\n  /**\n   * Sends an error console log.\n   * @param {...any} [msg] Message to show\n   * @static\n   */\n  static error(...msg) {\n    _report(msg, Log.Levels.ERROR, \"darkred\");\n  }\n\n  /**\n   * Sends a warning console log.\n   * @method Log.warn\n   * @static\n   * @param {...any} msg Message to show\n   */\n  static warn(...msg) {\n    _report(msg, Log.Levels.WARNING, \"darkorange\");\n  }\n\n  /**\n   * Sends a notice console log.\n   * @method Log.notice\n   * @static\n   * @param {...any} msg Message to show\n   */\n  static notice(...msg) {\n    _report([].slice.call(arguments), Log.Levels.NOTICE, \"darkcyan\");\n  }\n\n  /**\n   * Sends a debug message to console.\n   * @method Log.debug\n   * @static\n   * @param {...any} msg Message to show\n   */\n  static debug(...msg) {\n    _report(msg, Log.Levels.DEBUG, \"indigo\");\n  }\n\n  /**\n   * This utility method will add most of the HTML5 common event listeners to the player sent.\n   * Events will be reported as DEBUG level messages.\n   *\n   * @example\n   * // Already included events:\n   * ['canplay', 'buffering', 'waiting', 'ended', 'play', 'playing', 'pause', 'resume', 'error',\n   * 'abort', 'seek', 'seeking', 'seeked', 'stalled', 'dispose', 'loadeddata', 'loadstart',\n   * 'loadedmetadata']\n   *\n   * @method Log.debugCommonVideoEvents\n   * @static\n   * @param {object|function} o Object to attach the events.\n   * @param {array} [extraEvents]\n   * An array of extra events to watch. ie:  ['timeupdate', 'progress'].\n   * If the first item is null, no common events will be added.\n   * @param {function} [report] Callback function called to report events.\n   * Default calls Log.debug()\n   */\n  static debugCommonVideoEvents(o, extraEvents, report) {\n    try {\n      if (Log.level <= Log.Levels.DEBUG) {\n        report =\n          report ||\n          function (e) {\n            Log.debug(\"Event: \" + e.type);\n          };\n\n        var playerEvents = [\n          \"canplay\",\n          \"buffering\",\n          \"waiting\",\n          \"ended\",\n          \"play\",\n          \"playing\",\n          \"pause\",\n          \"resume\",\n          \"error\",\n          \"abort\",\n          \"seek\",\n          \"seeking\",\n          \"seeked\",\n          \"stalled\",\n          \"dispose\",\n          \"loadeddata\",\n          \"loadstart\",\n          \"loadedmetadata\",\n        ];\n        if (extraEvents) {\n          if (extraEvents[0] === null) {\n            extraEvents.shift();\n            playerEvents = extraEvents;\n          } else {\n            playerEvents = playerEvents.concat(extraEvents);\n          }\n        }\n\n        for (var i = 0; i < playerEvents.length; i++) {\n          if (typeof o === \"function\") {\n            o.call(window, playerEvents[i], report);\n          } else if (o.on) {\n            o.on(playerEvents[i], report);\n          } else if (o.addEventListener) {\n            o.addEventListener(playerEvents[i], report);\n          } else if (o.addEventHandler) {\n            o.addEventHandler(playerEvents[i], report);\n          } else {\n            Log.warn(\n              \"debugCommonVideoEvents: No common listener function found for \",\n              o\n            );\n          }\n        }\n      }\n    } catch (err) {\n      Log.warn(err);\n    }\n  }\n}\n\n/**\n * Enum for log levels\n * @enum {integer}\n * @static\n * @var\n */\nLog.Levels = {\n  /** No console outputs */\n  SILENT: 5,\n  /** Console will show errors */\n  ERROR: 4,\n  /** Console will show warnings */\n  WARNING: 3,\n  /** Console will show notices (ie: life-cyrcle logs) */\n  NOTICE: 2,\n  /** Console will show debug messages. */\n  DEBUG: 1,\n  /** Show all messages. */\n  ALL: 0,\n};\n\n/**\n * Only logs of this imporance or higher will be shown.\n * @example Log.level = Log.Levels.ALL\n * @default Log.Levels.ERROR\n * @static\n */\nLog.level = Log.Levels.ERROR;\n\n/**\n * If true, logs will be outputed with colors.\n * @default true\n * @static\n */\nLog.colorful = true;\n\n/**\n * If true, logs will include the time mark.\n * @default true\n * @static\n */\nLog.includeTime = true;\n\n/**\n * Prefix included at the start of every log.\n * @default '[New Relic]'\n * @static\n */\nLog.prefix = \"[nrvideo]\";\n\n// PRIVATE MEMBERS\n\n/**\n * Returns a console message\n *\n * @private\n * @param {array} msg Message array, error object or array of messages.\n * @param {Log.Level} [level=Log.Levels.NOTICE] Defines the level of the error sent.\n * Only errors with higher or equal level than Log.logLevel will be displayed.\n * @param {string} [color='darkgreen'] Color of the header\n * @see {@link Log.level}\n */\nfunction _report(msg, level, color) {\n  level = level || Log.Levels.NOTICE;\n  color = color || \"darkcyan\";\n\n  var prefix = Log.prefix;\n  if (Log.includeTime) prefix += _getCurrentTime() + \" \";\n  prefix += _level2letter(level) + \":\";\n\n  // Show messages in actual console if level is enought\n  if (Log.level <= level && level !== Log.Levels.SILENT) {\n    if (\n      !Log.colorful ||\n      (typeof document !== \"undefined\" && document.documentMode)\n    ) {\n      // document.documentMode exits only in IE\n      _plainReport(msg, prefix);\n    } else {\n      // choose log method\n      var logMethod;\n      if (level === Log.Levels.ERROR && console.error) {\n        logMethod = console.error;\n      } else if (level === Log.Levels.WARNING && console.warn) {\n        logMethod = console.warn;\n      } else if (level === Log.Levels.DEBUG && console.debug) {\n        // NOTE: for some reason console.debug doesn't work on CAF Receivers.\n        if (window.cast == undefined) {\n          logMethod = console.debug;\n        } else {\n          logMethod = console.log;\n        }\n      } else {\n        logMethod = console.log;\n      }\n\n      // print message\n      prefix = \"%c\" + prefix;\n      msg.splice(0, 0, prefix, \"color: \" + color);\n      logMethod.apply(console, msg);\n    }\n  }\n}\n\n/**\n * Returns the current time in format hh:mm:ss.mmm (with trailing 0s)\n * @private\n * @return {string} Current time.\n */\nfunction _getCurrentTime() {\n  var d = new Date();\n  var hh = (\"0\" + d.getDate()).slice(-2);\n  var mm = (\"0\" + d.getMinutes()).slice(-2);\n  var ss = (\"0\" + d.getSeconds()).slice(-2);\n  var mmm = (\"00\" + d.getMilliseconds()).slice(-3);\n  return \"[\" + hh + \":\" + mm + \":\" + ss + \".\" + mmm + \"]\";\n}\n\n/**\n * Returns a console message without style\n *\n * @private\n * @param {(string|object|array)} msg Message string, object or array of messages.\n * @param {string} prefix Prefix of the message.\n */\nfunction _plainReport(msg, prefix) {\n  if (msg instanceof Array) {\n    for (var m in msg) {\n      _plainReport(msg[m], prefix);\n    }\n  } else {\n    if (typeof msg === \"string\") {\n      console.log(prefix + \" \" + msg);\n    } else {\n      console.log(prefix + \"↵\");\n      console.log(msg);\n    }\n  }\n}\n\nconst _letters = {\n  4: \"e\", // Error\n  3: \"w\", // Warning\n  2: \"n\", // Notice\n  1: \"d\", // Debug\n};\n\n/**\n * Transforms a level to a letter to identify every message.\n *\n * @private\n * @param {sLog.Level} level Level of the message\n */\nfunction _level2letter(level) {\n  return _letters[level];\n}\n\n/**\n * This function is automatically executed at load.\n * Will search inside window.location.search for attribute 'nrvideo-debug=X'.\n * X can have one of these values, that will modify Log.Levels.\n * 5: SILENT,\n * 4: ERROR,\n * 3: WARNING,\n * 2: NOTICE,\n * 1: DEBUG,\n *\n * If nrvideo-colors=false is present, Log.colorful will be set to false.\n *\n * @private\n */\nfunction _loadLevelFromUrl() {\n  if (\n    typeof window !== \"undefined\" &&\n    window.location &&\n    window.location.search\n  ) {\n    var m = /\\?.*&*nrvideo-debug=(.+)/i.exec(window.location.search);\n    if (m !== null) {\n      if (m[1] === \"true\") {\n        Log.level = Log.Levels.ALL;\n      } else {\n        Log.level = m[1];\n      }\n    }\n\n    var m2 = /\\?.*&*nrvideo-colors=false/i.exec(window.location.search);\n    if (m2 !== null) {\n      Log.colorful = false;\n    }\n  }\n}\n\n// Execute load level\n_loadLevelFromUrl();\n\nexport default Log;\n","import Backend from \"../backend\";\nimport Log from \"../log\";\n\n/**\n * Implements a New Relic Insights API backend. For a description of what is a Backend, see {@link Backend}.\n * It must be initialized using a New Relic Account ID and an Insights API insert key.\n *\n * @example\n * let backend = new nrvideo.NRInsightsBackend(\"ACCOUNT ID\", \"API KEY\")\n * nrvideo.Core.setBackend(backend)\n *\n * @extends Backend\n */\nclass NRInsightsBackend extends Backend {\n  /**\n   * Constructor, receives account ID, API Key and (optionally) an event type.\n   *\n   * @param {String} [accountId] Insights Account ID.\n   * @param {String} [apiKey] Insights API Key.\n   * @param {String} [eventType] Insights event type. Default 'BrowserVideo'.\n   */\n  constructor(accountId, apiKey) {\n    super();\n\n    /**\n     * Insights account ID.\n     * @private\n     */\n    this._accountId = accountId;\n\n    /**\n     * Insights API Key.\n     * @private\n     */\n    this._apiKey = apiKey;\n\n    /**\n     * Insights event type.\n     * @private\n     */\n    this._eventType = \"\";\n\n    /**\n     * Buffer to store events.\n     * @private\n     */\n    this._eventBuffer = [];\n\n    /**\n     * Harvest timer lock.\n     * @private\n     */\n    this._harvestLocked = false;\n\n    /**\n     * Last timestamp.\n     * @private\n     */\n    this._lastTimestamp = 0;\n\n    // Define harvest timer handler\n    setInterval(() => {\n      this.harvestHandler(NRInsightsBackend.Source.TIMER);\n    }, 10000);\n  }\n\n  send(eventType, event, data) {\n    this._eventType = eventType;\n\n    super.send(event, data);\n    if (this._eventBuffer.length < 500) {\n      data = this.generateAttributes(data);\n      data[\"eventType\"] = this._eventType;\n      data[\"actionName\"] = event;\n\n      // Mechanism to avoid having two events with the same timestamp\n      let timestamp = Date.now();\n      if (timestamp > this._lastTimestamp) {\n        data[\"timestamp\"] = timestamp;\n        this._lastTimestamp = timestamp;\n      } else {\n        this._lastTimestamp++;\n        data[\"timestamp\"] = this._lastTimestamp;\n      }\n      this._eventBuffer.push(data);\n    }\n  }\n\n  generateAttributes(data) {\n    data[\"pageUrl\"] = window.location.href;\n    data[\"currentUrl\"] = window.location.origin + window.location.pathname;\n    data[\"referrerUrl\"] = document.referrer;\n\n    let OSName = \"Unknown\";\n    if (navigator.userAgent.indexOf(\"Win\") != -1) OSName = \"Windows\";\n    else if (navigator.userAgent.indexOf(\"Android\") != -1) OSName = \"Android\";\n    else if (navigator.userAgent.indexOf(\"Mac\") != -1) OSName = \"Mac\";\n    else if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) OSName = \"iOS\";\n    else if (navigator.userAgent.indexOf(\"Linux\") != -1) OSName = \"Linux\";\n    else if (navigator.userAgent.indexOf(\"X11\") != -1) OSName = \"UNIX\";\n    data[\"userAgentOS\"] = OSName;\n\n    let agentName = \"Unknown\";\n    if (navigator.userAgent.indexOf(\"Chrome\") != -1) agentName = \"Chrome\";\n    else if (navigator.userAgent.indexOf(\"Firefox\") != -1)\n      agentName = \"Firefox\";\n    else if (navigator.userAgent.indexOf(\"MSIE\") != -1) agentName = \"IE\";\n    else if (navigator.userAgent.indexOf(\"Edge\") != -1)\n      agentName = \"Microsoft Edge\";\n    else if (navigator.userAgent.indexOf(\"Safari\") != -1) agentName = \"Safari\";\n    else if (navigator.userAgent.indexOf(\"Opera\") != -1) agentName = \"Opera\";\n    data[\"userAgentName\"] = agentName;\n\n    if (!data[\"deviceType\"]) {\n      let deviceType = \"Unknown\";\n      if (navigator.userAgent.match(/Tablet|iPad/i)) deviceType = \"Tablet\";\n      else if (\n        navigator.userAgent.match(\n          /Mobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|Blackberry|PlayBook|BB10|Opera Mini|\\bCrMo\\/|Opera Mobi/i\n        )\n      )\n        deviceType = \"Mobile\";\n      else if (window.cast != undefined) deviceType = \"Cast\";\n      else deviceType = \"Desktop\";\n      data[\"deviceType\"] = deviceType;\n    }\n\n    return data;\n  }\n\n  harvestHandler(source) {\n    if (source == NRInsightsBackend.Source.TIMER && this._harvestLocked) {\n      Log.debug(\"Harvest still locked, abort\");\n      return;\n    }\n\n    this._harvestLocked = true;\n\n    if (this._eventBuffer.length > 0) {\n      Log.debug(\"Push events to Insights = \", this._eventBuffer);\n      this.pushEventToInsights(this._eventBuffer.pop());\n    } else {\n      this._harvestLocked = false;\n    }\n  }\n\n  pushEventToInsights(ev) {\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Insert-Key\": this._apiKey,\n      },\n      body: JSON.stringify(ev),\n    };\n\n    const url =\n      \"https://insights-collector.newrelic.com/v1/accounts/\" +\n      this._accountId +\n      \"/events\";\n    fetch(url, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        this.insightsRequestResponse(data);\n      })\n      .catch((error) => {\n        Log.error(\"Error:\", error, ev);\n        // Put back the event and abort current fetch process\n        this._eventBuffer.push(ev);\n        this._harvestLocked = false;\n      });\n  }\n\n  insightsRequestResponse(data) {\n    // Send next event\n    this.harvestHandler(NRInsightsBackend.Source.FETCH);\n  }\n}\n\nNRInsightsBackend.Source = {\n  TIMER: \"TIMER\",\n  FETCH: \"FETCH\",\n};\n\nexport default NRInsightsBackend;\n","import pkg from \"../package.json\";\nimport Emitter from \"./emitter\";\nimport Chrono from \"./chrono\";\nimport Constants from \"./constants\";\n\n/**\n * Tracker class provides the basic logic to extend Newrelic's Browser Agent capabilities.\n * Trackers are designed to listen third party elements (like video tags, banners, etc.) and send\n * information over to Browser Agent. Extend this class to create your own tracker, override\n * registerListeners and unregisterListeners for full coverage!\n *\n * @example\n * Tracker instances should be added to Core library to start sending data:\n * nrvideo.Core.addTracker(new Tracker())\n *\n * @extends Emitter\n */\nclass Tracker extends Emitter {\n  /**\n   * Constructor, receives options. You should call {@see registerListeners} after this.\n   *\n   * @param {Object} [options] Options for the tracker. See {@link setOptions}.\n   */\n  constructor(options) {\n    super();\n\n    /**\n     * If you add something to this custom dictionary it will be added to every action. If you set\n     * any value, it will always override the values returned by the getters.\n     *\n     * @example\n     * If you define tracker.customData.contentTitle = 'a' and tracker.getTitle() returns 'b'.\n     * 'a' will prevail.\n     */\n    this.customData = {};\n\n    /**\n     * Set time between hearbeats, in ms.\n     */\n    this.heartbeat = null;\n\n    /**\n     * Another Tracker instance. Useful to relate ad Trackers to their parent content Trackers.\n     * @type Tracker\n     */\n    this.parentTracker = null;\n\n    /**\n     * Chrono that counts time since this class was instantiated.\n     * @private\n     */\n    this._trackerReadyChrono = new Chrono();\n    this._trackerReadyChrono.start();\n\n    /**\n     * Store the initial table of actions with time 0 ms\n     */\n    this._actionTable = Constants.ACTION_TABLE;\n    this._actionAdTable = Constants.ACTION_AD_TABLE;\n\n    options = options || {};\n    this.setOptions(options);\n  }\n\n  /**\n   * Set options for the Tracker.\n   *\n   * @param {Object} [options] Options for the tracker.\n   * @param {number} [options.heartbeat] Set time between heartbeats. See {@link heartbeat}.\n   * @param {Object} [options.customData] Set custom data. See {@link customData}.\n   * @param {Tracker} [options.parentTracker] Set parent tracker. See {@link parentTracker}.\n   */\n  setOptions(options) {\n    if (options) {\n      if (options.parentTracker) this.parentTracker = options.parentTracker;\n      if (options.customData) this.customData = options.customData;\n      if (options.heartbeat) this.heartbeat = options.heartbeat;\n    }\n  }\n\n  /**\n   * Prepares tracker to dispose. Calls {@see unregisterListeners} and drops references.\n   */\n  dispose() {\n    this.unregisterListeners();\n  }\n\n  /**\n   * Override this method to register listeners to third party elements.\n   *\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  registerListeners() {\n   *    this.player.on('play', () => this.playHandler)\n   *  }\n   *\n   *  playHandler() {\n   *    this.emit(Tracker.Events.REQUESTED)\n   *  }\n   * }\n   */\n  registerListeners() {}\n\n  /**\n   * Override this method to unregister listeners to third party elements created with\n   * {@see registerListeners}.\n   *\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  registerListeners() {\n   *    this.player.on('play', () => this.playHandler)\n   *  }\n   *\n   *  unregisterListeners() {\n   *    this.player.off('play', () => this.playHandler)\n   *  }\n   *\n   *  playHandler() {\n   *    this.emit(Tracker.Events.REQUESTED)\n   *  }\n   * }\n   */\n  unregisterListeners() {}\n\n  /**\n   * Returns heartbeat time interval. 30000 (30s) if not set. See {@link setOptions}.\n   * @return {number} Heartbeat interval in ms.\n   * @final\n   */\n  getHeartbeat() {\n    if (this.heartbeat) {\n      return this.heartbeat;\n    } else if (this.parentTracker && this.parentTracker.heartbeat) {\n      return this.parentTracker.heartbeat;\n    } else {\n      return 30000;\n    }\n  }\n\n  /**\n   * Starts heartbeating. Interval period set by options.heartbeat. Min 5000 ms.\n   * This method is automaticaly called by the tracker once sendRequest is called.\n   */\n  startHeartbeat() {\n    this._heartbeatInterval = setInterval(\n      this.sendHeartbeat.bind(this),\n      Math.max(this.getHeartbeat(), 5000)\n    );\n  }\n\n  /**\n   * Stops heartbeating. This method is automaticaly called by the tracker.\n   */\n  stopHeartbeat() {\n    if (this._heartbeatInterval) {\n      clearInterval(this._heartbeatInterval);\n    }\n  }\n\n  /**\n   * Heartbeating allows you to call this function each X milliseconds, defined by\n   * {@link getHeartbeat}. This is useful to send regular events to track changes.\n   *\n   * By default it will send {@link Tracker.Events.HEARTBEAT}.\n   * To start heartbeating use {@link startHeartbeat} and to stop them use {@link stopHeartbeat}.\n   *\n   * @example\n   * Override this method to define your own Heartbeat reporting.\n   *\n   * class TrackerChild extends Tracker {\n   *  sendHeartbeat (att) {\n   *    this.send('MY_HEARBEAT_EVENT')\n   *  }\n   * }\n   *\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendHeartbeat(att) {\n    this.sendVideoAction(Tracker.Events.HEARTBEAT, att);\n  }\n\n  /**\n   * Override this method to return attributes for actions.\n   *\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  getAttributes(att) {\n   *    att = att || {}\n   *    att.information = 'something'\n   *    return att\n   *  }\n   * }\n   *\n   * @param {object} [att] Collection of key value attributes\n   * @return {object} Filled attributes\n   * @final\n   */\n  getAttributes(att, eventType) {\n    att = att || {};\n    att.trackerName = this.getTrackerName();\n    att.trackerVersion = this.getTrackerVersion();\n    att.coreVersion = pkg.version;\n    att.timeSinceTrackerReady = this._trackerReadyChrono.getDeltaTime();\n\n    for (let key in this.customData) {\n      att[key] = this.customData[key];\n    }\n\n    if (document.hidden != undefined) {\n      att.isBackgroundEvent = document.hidden;\n    }\n\n    return att;\n  }\n\n  /** Override to change of the Version of tracker. ie: '1.0.1' */\n  getTrackerVersion() {\n    return pkg.version;\n  }\n\n  /** Override to change of the Name of the tracker. ie: 'custom-html5' */\n  getTrackerName() {\n    return \"base-tracker\";\n  }\n\n  /**\n   * Send given event. Will automatically call {@see getAttributes} to fill information.\n   * Internally, this will call {@see Emitter#emit}, so you could listen any event fired.\n   *\n   * @example\n   * tracker.send('BANNER_CLICK', { url: 'http....' })\n   *\n   * @param {string} event Event name\n   * @param {object} [att] Key:value dictionary filled with attributes.\n   */\n  // send(event, att) {\n  //   this.emit(event, this.getAttributes(att));\n  // }\n\n  // send(eventType, event, att) {\n  //   this.emit(eventType, event, this.getAttributes(att));\n  // }\n\n  /**\n   * getElapsedTime: Calculate the time elapsed between two same actions\n   *\n   */\n\n  getElapsedTime(action) {\n    let elapsedTime = 0;\n    this._actionTable.forEach((actionObj) => {\n      if (actionObj.actionName === action) {\n        if (actionObj.time === 0) {\n          actionObj.time = Date.now();\n        } else {\n          elapsedTime = Date.now() - actionObj.time;\n          actionObj.time = Date.now();\n        }\n      }\n    });\n    return elapsedTime;\n  }\n\n  sendVideoAction(event, att) {\n    let elapsedTime = this.getElapsedTime(event);\n    this.emit(\n      \"VideoAction\",\n      event,\n      this.getAttributes({ elapsedTime, ...att })\n    );\n  }\n\n  sendVideoAdAction(event, att) {\n    let elapsedTime = this.getElapsedTime(event);\n    this.emit(\n      \"VideoAdAction\",\n      event,\n      this.getAttributes({ elapsedTime, ...att })\n    );\n  }\n\n  sendVideoErrorAction(event, att) {\n    let ev = this.isAd() ? \"adError\" : \"videoError\";\n    let elapsedTime = this.getElapsedTime(event);\n    this.emit(\n      \"VideoErrorAction\",\n      event,\n      this.getAttributes({ elapsedTime, ...att }, ev)\n    );\n  }\n\n  sendVideoCustomAction(event, att) {\n    this.emit(\n      \"VideoCustomAction\",\n      event,\n      this.getAttributes(att, \"customAction\")\n    );\n  }\n}\n\n/**\n * Enumeration of events fired by this class.\n *\n * @static\n * @memberof Tracker\n * @enum {string}\n */\nTracker.Events = {\n  /** The heartbeat event is sent once every 30 seconds while the video is playing. */\n  HEARTBEAT: \"HEARTBEAT\",\n};\n\nexport default Tracker;\n","import Log from \"./log\";\nimport Tracker from \"./tracker\";\nimport TrackerState from \"./videotrackerstate\";\nimport pkg from \"../package.json\";\n\n/**\n * Base video tracker class provides extensible tracking over video elements. See {@link Tracker}.\n * Extend this class to create your own video tracker class. Override getter methods and\n * registerListeners/unregisterListeners to provide full integration with your video experience.\n *\n * @example\n * Tracker instances should be added to Core library to start sending data:\n * nrvideo.Core.addTracker(new Tracker())\n *\n * @extends Tracker\n */\nclass VideoTracker extends Tracker {\n  /**\n   * Constructor, receives player and options.\n   * Lifecycle: constructor > {@link setOptions} > {@link setPlayer} > {@link registerListeners}.\n   *\n   * @param {Object} [player] Player to track. See {@link setPlayer}.\n   * @param {Object} [options] Options for the tracker. See {@link setOptions}.\n   */\n  constructor(player, options) {\n    super();\n\n    /**\n     * TrackerState instance. Stores the state of the view. Tracker will automatically update the\n     * state of its instance, so there's no need to modify/interact with it manually.\n     * @type TrackerState\n     */\n    this.state = new TrackerState();\n\n    /**\n     * Another Tracker instance to track ads.\n     * @type Tracker\n     */\n    this.adsTracker = null;\n\n    /**\n     * Last bufferType value.\n     * @private\n     */\n    this._lastBufferType = null;\n\n    options = options || {};\n    this.setOptions(options);\n    if (player) this.setPlayer(player, options.tag);\n\n    Log.notice(\n      \"Tracker \" +\n        this.getTrackerName() +\n        \" v\" +\n        this.getTrackerVersion() +\n        \" is ready.\"\n    );\n    this._userId = null;\n  }\n\n  /**\n   * Set options for the Tracker.\n   *\n   * @param {Object} [options] Options for the tracker.\n   * @param {Boolean} [options.isAd] True if the tracker is tracking ads. See {@link setIsAd}.\n   * @param {number} [options.heartbeat] Set time between heartbeats. See {@link heartbeat}.\n   * @param {Object} [options.customData] Set custom data. See {@link customData}.\n   * @param {Tracker} [options.parentTracker] Set parent tracker. See {@link parentTracker}.\n   * @param {Tracker} [options.adsTracker] Set ads tracker. See {@link adsTracker}.\n   * @param {Object} [options.tag] DOM element to track. See {@link setPlayer}.\n   */\n  setOptions(options) {\n    if (options) {\n      if (options.adsTracker) this.setAdsTracker(options.adsTracker);\n      if (typeof options.isAd === \"boolean\") this.setIsAd(options.isAd);\n      Tracker.prototype.setOptions.apply(this, arguments);\n    }\n  }\n\n  /**\n   * Set a player and/or a tag. If there was one already defined, it will call dispose() first.\n   * Will call this.registerListeners() afterwards.\n   *\n   * @param {Object|string} player New player to save as this.player. If a string is passed,\n   * document.getElementById will be called.\n   * @param {DOMObject|string} [tag] Optional DOMElement to save as this.tag. If a string is passed,\n   * document.getElementById will be called.\n   */\n\n  setUserId(userId) {\n    this._userId = userId;\n  }\n\n  setPlayer(player, tag) {\n    if (this.player || this.tag) this.dispose();\n\n    if (typeof document !== \"undefined\" && document.getElementById) {\n      if (typeof player === \"string\") player = document.getElementById(player);\n      if (typeof tag === \"string\") tag = document.getElementById(tag);\n    }\n\n    tag = tag || player; // if no tag is passed, use player as both.\n\n    this.player = player;\n    this.tag = tag;\n    this.registerListeners();\n  }\n\n  /** Returns true if the tracker is currently on ads. */\n  isAd() {\n    return this.state.isAd();\n  }\n\n  /** Sets if the tracker is currenlty tracking ads */\n  setIsAd(isAd) {\n    this.state.setIsAd(isAd);\n  }\n\n  /**\n   * Use this function to set up a child ad tracker. You will be able to access it using\n   * this.adsTracker.\n   *\n   * @param {Tracker} tracker Ad tracker to add\n   */\n  setAdsTracker(tracker) {\n    this.disposeAdsTracker(); // dispose current one\n    if (tracker) {\n      this.adsTracker = tracker;\n      this.adsTracker.setIsAd(true);\n      this.adsTracker.parentTracker = this;\n      this.adsTracker.on(\"*\", funnelAdEvents.bind(this));\n    }\n  }\n\n  /**\n   * Dispose current adsTracker.\n   */\n  disposeAdsTracker() {\n    if (this.adsTracker) {\n      this.adsTracker.off(\"*\", funnelAdEvents);\n      this.adsTracker.dispose();\n    }\n  }\n\n  /**\n   * Prepares tracker to dispose. Calls unregisterListener and drops references to player and tag.\n   */\n  dispose() {\n    this.stopHeartbeat();\n    this.disposeAdsTracker();\n    this.unregisterListeners();\n    this.player = null;\n    this.tag = null;\n  }\n\n  /**\n   * Override this method to register listeners to player/tag.\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  registerListeners() {\n   *    this.player.on('play', () => this.playHandler)\n   *  }\n   *\n   *  playHandler() {\n   *    this.send(VideoTracker.Events.REQUESTED)\n   *  }\n   * }\n   */\n  registerListeners() {}\n\n  /**\n   * Override this method to unregister listeners to player/tag created in registerListeners\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  registerListeners() {\n   *    this.player.on('play', () => this.playHandler)\n   *  }\n   *\n   *  unregisterListeners() {\n   *    this.player.off('play', () => this.playHandler)\n   *  }\n   *\n   *  playHandler() {\n   *    this.send(VideoTracker.Events.REQUESTED)\n   *  }\n   * }\n   */\n  unregisterListeners() {}\n\n  /**\n   * Trackers will generate unique id's for every new video iteration. If you have your own unique\n   * view value, you can override this method to return it.\n   * If the tracker has a parentTracker defined, parent viewId will be used.\n   */\n  getViewId() {\n    if (this.parentTracker) {\n      return this.parentTracker.getViewId();\n    } else {\n      return this.state.getViewId();\n    }\n  }\n\n  /**\n   * Trackers will generate unique id's for every new video session. If you have your own unique\n   * view value, you can override this method to return it.\n   * If the tracker has a parentTracker defined, parent viewId will be used.\n   */\n  getViewSession() {\n    if (this.parentTracker) {\n      return this.parentTracker.getViewSession();\n    } else {\n      return this.state.getViewSession();\n    }\n  }\n\n  /** Override to return the Id of the video. */\n  getVideoId() {\n    return null;\n  }\n\n  /** Override to return Title of the video. */\n  getTitle() {\n    return null;\n  }\n\n  /** Override to return True if the video is live. */\n  isLive() {\n    return null;\n  }\n\n  /** Override to return Bitrate (in bits) of the video. */\n  getBitrate() {\n    return null;\n  }\n\n  /** Calculates consumed bitrate using webkitVideoDecodedByteCount. */\n  getWebkitBitrate() {\n    if (this.tag && this.tag.webkitVideoDecodedByteCount) {\n      let bitrate;\n      if (this._lastWebkitBitrate) {\n        bitrate = this.tag.webkitVideoDecodedByteCount;\n        let delta = bitrate - this._lastWebkitBitrate;\n        let seconds = this.getHeartbeat() / 1000;\n        bitrate = Math.round((delta / seconds) * 8);\n      }\n      this._lastWebkitBitrate = this.tag.webkitVideoDecodedByteCount;\n      return bitrate || null;\n    }\n  }\n\n  /** Override to return Name of the rendition (ie: 1080p). */\n  getRenditionName() {\n    return null;\n  }\n\n  /** Override to return Target Bitrate of the rendition. */\n  getRenditionBitrate() {\n    return null;\n  }\n\n  /**\n   * This method will return 'up', 'down' or null depending on if the bitrate of the rendition\n   * have changed from the last time it was called.\n   *\n   * @param {boolean} [saveNewRendition=false] If true, current rendition will be stored to be used\n   * the next time this method is called. This allows you to call this.getRenditionShift() without\n   * saving the current rendition and thus preventing interferences with RENDITION_CHANGE events.\n   */\n  getRenditionShift(saveNewRendition) {\n    let current = this.getRenditionBitrate();\n    let last;\n    if (this.isAd()) {\n      last = this._lastAdRendition;\n      if (saveNewRendition) this._lastAdRendition = current;\n    } else {\n      last = this._lastRendition;\n      if (saveNewRendition) this._lastRendition = current;\n    }\n\n    if (!current || !last) {\n      return null;\n    } else {\n      if (current > last) {\n        return \"up\";\n      } else if (current < last) {\n        return \"down\";\n      } else {\n        return null;\n      }\n    }\n  }\n\n  /** Override to return renidtion actual Height (before re-scaling). */\n  getRenditionHeight() {\n    return this.tag ? this.tag.videoHeight : null;\n  }\n\n  /** Override to return rendition actual Width (before re-scaling). */\n  getRenditionWidth() {\n    return this.tag ? this.tag.videoWidth : null;\n  }\n\n  /** Override to return Duration of the video, in ms. */\n  getDuration() {\n    return this.tag ? this.tag.duration : null;\n  }\n\n  /** Override to return Playhead (currentTime) of the video, in ms. */\n  getPlayhead() {\n    return this.tag ? this.tag.currentTime : null;\n  }\n\n  /**\n   * Override to return Language of the video. We recommend using locale notation, ie: en_US.\n   * {@see https://gist.github.com/jacobbubu/1836273}\n   */\n  getLanguage() {\n    return null;\n  }\n\n  /** Override to return URL of the resource being played. */\n  getSrc() {\n    return this.tag ? this.tag.currentSrc : null;\n  }\n\n  /** Override to return Playrate (speed) of the video. ie: 1.0, 0.5, 1.25... */\n  getPlayrate() {\n    return this.tag ? this.tag.playbackRate : null;\n  }\n\n  /** Override to return True if the video is currently muted. */\n  isMuted() {\n    return this.tag ? this.tag.muted : null;\n  }\n\n  /** Override to return True if the video is currently fullscreen. */\n  isFullscreen() {\n    return null;\n  }\n\n  /** Override to return the CDN serving the content. */\n  getCdn() {\n    return null;\n  }\n\n  /** Override to return the Name of the player. */\n  getPlayerName() {\n    return this.getTrackerName();\n  }\n\n  /** Override to return the Version of the player. */\n  getPlayerVersion() {\n    return pkg.version;\n  }\n\n  /** Override to return current FPS (Frames per second). */\n  getFps() {\n    return null;\n  }\n\n  /**\n   * Override to return if the player was autoplayed. By default: this.tag.autoplay\n   */\n  isAutoplayed() {\n    return this.tag ? this.tag.autoplay : null;\n  }\n\n  /**\n   * Override to return the player preload attribute. By default: this.tag.preload\n   */\n  getPreload() {\n    return this.tag ? this.tag.preload : null;\n  }\n\n  // Only for ads\n  /**\n   * Override to return Quartile of the ad. 0 before first, 1 after first quartile, 2 after\n   * midpoint, 3 after third quartile, 4 when completed.\n   */\n  getAdQuartile() {\n    return null;\n  }\n\n  /**\n   * Override to return the position of the ad. Use {@link Constants.AdPositions} enum\n   * to fill this data.\n   */\n  getAdPosition() {\n    if (this.parentTracker) {\n      return this.parentTracker.state.isStarted ? \"mid\" : \"pre\";\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Override to return the ad partner. ie: ima, freewheel...\n   */\n  getAdPartner() {\n    return null;\n  }\n\n  /**\n   * Override to return the creative id of the ad.\n   */\n  getAdCreativeId() {\n    return null;\n  }\n\n  /**\n   * Override to return the instrumentation of the player.\n   */\n\n  getInstrumentationProvider() {\n    return null;\n  }\n\n  getInstrumentationName() {\n    return null;\n  }\n\n  getInstrumentationVersion() {\n    return null;\n  }\n\n  /**\n   * Do NOT override. This method fills all the appropiate attributes for tracked video.\n   *\n   * @param {object} [att] Collection of key value attributes\n   * @return {object} Filled attributes\n   * @final\n   */\n  getAttributes(att, type) {\n    att = Tracker.prototype.getAttributes.apply(this, arguments);\n\n    if (typeof att.isAd === \"undefined\") att.isAd = this.isAd();\n\n    att.viewSession = this.getViewSession();\n    att.viewId = this.getViewId();\n    att.playerName = this.getPlayerName();\n    att.playerVersion = this.getPlayerVersion();\n    att[\"instrumentation.provider\"] = this.getInstrumentationProvider();\n    att[\"instrumentation.name\"] = this.getInstrumentationName();\n    att[\"instrumentation.version\"] = this.getInstrumentationVersion();\n\n    if (type === \"customAction\") return att;\n\n    try {\n      att.pageUrl = window.location.href;\n    } catch (err) {\n      /* skip */\n    }\n\n    if (this.isAd()) {\n      // Ads\n      att['enduser.id'] = this._userId;\n      att.adId = this.getVideoId();\n      att.adTitle = this.getTitle();\n      att.adSrc = this.getSrc();\n      att.adCdn = this.getCdn();\n\n      if (type === \"adError\") {\n        att.adBitrate = this.getBitrate() || this.getWebkitBitrate();\n        att.adRenditionName = this.getRenditionName();\n        att.adRenditionBitrate = this.getRenditionBitrate();\n        att.adRenditionHeight = this.getRenditionHeight();\n        att.adRenditionWidth = this.getRenditionWidth();\n        att.adDuration = this.getDuration();\n        att.adPlayhead = this.getPlayhead();\n        att.adLanguage = this.getLanguage();\n        att.adIsMuted = this.isMuted();\n        att.adFps = this.getFps();\n        // ad exclusives\n        att.adQuartile = this.getAdQuartile();\n        att.adPosition = this.getAdPosition();\n        att.adCreativeId = this.getAdCreativeId();\n        att.adPartner = this.getAdPartner();\n      }\n    } else {\n      // no ads\n      att['enduser.id'] = this._userId;\n      att.contentId = this.getVideoId();\n      att.contentTitle = this.getTitle();\n      att.contentSrc = this.getSrc();\n      att.contentCdn = this.getCdn();\n\n      if (type !== \"videoError\") {\n        att.contentIsLive = this.isLive();\n        att.contentBitrate = this.getBitrate() || this.getWebkitBitrate();\n        att.contentRenditionName = this.getRenditionName();\n        att.contentRenditionBitrate = this.getRenditionBitrate();\n        att.contentRenditionHeight = this.getRenditionHeight();\n        att.contentRenditionWidth = this.getRenditionWidth();\n        att.contentDuration = this.getDuration();\n        att.contentPlayhead = this.getPlayhead();\n        att.contentLanguage = this.getLanguage();\n        att.contentPlayrate = this.getPlayrate();\n        att.contentIsFullscreen = this.isFullscreen();\n        att.contentIsMuted = this.isMuted();\n        att.contentIsAutoplayed = this.isAutoplayed();\n        att.contentPreload = this.getPreload();\n        att.contentFps = this.getFps();\n      }\n\n      if (\n        this.adsTracker != null &&\n        this.adsTracker.state.totalAdPlaytime > 0\n      ) {\n        att.totalAdPlaytime = this.adsTracker.state.totalAdPlaytime;\n      }\n    }\n\n    this.state.getStateAttributes(att);\n\n    for (let key in this.customData) {\n      att[key] = this.customData[key];\n    }\n\n    return att;\n  }\n\n  /**\n   * Sends custom event and registers a timeSince attribute.\n   * @param {Object} [actionName] Custom action name.\n   * @param {Object} [timeSinceAttName] Custom timeSince attribute name.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendCustom(actionName, timeSinceAttName, att) {\n    att = att || {};\n    this.sendVideoCustomAction(actionName, att);\n    this.state.setTimeSinceAttribute(timeSinceAttName);\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendPlayerReady(att) {\n    if (this.state.goPlayerReady()) {\n      att = att || {};\n      this.sendVideoAction(VideoTracker.Events.PLAYER_READY, att);\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners. Calls\n   * {@link startHeartbeat}.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendRequest(att) {\n    if (this.state.goRequest()) {\n      let ev = this.isAd()\n        ? VideoTracker.Events.AD_REQUEST\n        : VideoTracker.Events.CONTENT_REQUEST;\n\n      this.isAd()\n        ? this.sendVideoAdAction(ev, att)\n        : this.sendVideoAction(ev, att);\n      // this.send(ev, att);\n      this.startHeartbeat();\n      this.state.goHeartbeat();\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendStart(att) {\n    if (this.state.goStart()) {\n      let ev;\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_START;\n        if (this.parentTracker) this.parentTracker.state.isPlaying = false;\n        this.sendVideoAdAction(ev, att);\n      } else {\n        ev = VideoTracker.Events.CONTENT_START;\n        this.sendVideoAction(ev, att);\n      }\n      //this.send(ev, att);\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners. Calls\n   * {@link stopHeartbeat}.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendEnd(att) {\n    if (this.state.goEnd()) {\n      att = att || {};\n      let ev;\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_END;\n        att.timeSinceAdRequested = this.state.timeSinceRequested.getDeltaTime();\n        att.timeSinceAdStarted = this.state.timeSinceStarted.getDeltaTime();\n        if (this.parentTracker) this.parentTracker.state.isPlaying = true;\n      } else {\n        ev = VideoTracker.Events.CONTENT_END;\n        att.timeSinceRequested = this.state.timeSinceRequested.getDeltaTime();\n        att.timeSinceStarted = this.state.timeSinceStarted.getDeltaTime();\n      }\n      this.stopHeartbeat();\n      //this.send(ev, att);\n      this.isAd()\n        ? this.sendVideoAdAction(ev, att)\n        : this.sendVideoAction(ev, att);\n\n      if (this.parentTracker && this.isAd())\n        this.parentTracker.state.goLastAd();\n      this.state.goViewCountUp();\n      this.state.totalPlaytime = 0;\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendPause(att) {\n    if (this.state.goPause()) {\n      let ev = this.isAd()\n        ? VideoTracker.Events.AD_PAUSE\n        : VideoTracker.Events.CONTENT_PAUSE;\n\n      this.isAd()\n        ? this.sendVideoAdAction(ev, att)\n        : this.sendVideoAction(ev, att);\n\n      //this.send(ev, att);\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendResume(att) {\n    if (this.state.goResume()) {\n      att = att || {};\n      let ev;\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_RESUME;\n        att.timeSinceAdPaused = this.state.timeSincePaused.getDeltaTime();\n      } else {\n        ev = VideoTracker.Events.CONTENT_RESUME;\n        att.timeSincePaused = this.state.timeSincePaused.getDeltaTime();\n      }\n      //this.send(ev, att);\n      this.isAd()\n        ? this.sendVideoAdAction(ev, att)\n        : this.sendVideoAction(ev, att);\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendBufferStart(att) {\n    if (this.state.goBufferStart()) {\n      att = att || {};\n      let ev;\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_BUFFER_START;\n      } else {\n        ev = VideoTracker.Events.CONTENT_BUFFER_START;\n      }\n\n      att = this.buildBufferAttributes(att);\n      this._lastBufferType = att.bufferType;\n\n      //this.send(ev, att);\n      this.isAd()\n        ? this.sendVideoAdAction(ev, att)\n        : this.sendVideoAction(ev, att);\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendBufferEnd(att) {\n    if (this.state.goBufferEnd()) {\n      att = att || {};\n      let ev;\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_BUFFER_END;\n        att.timeSinceAdBufferBegin =\n          this.state.timeSinceBufferBegin.getDeltaTime();\n      } else {\n        ev = VideoTracker.Events.CONTENT_BUFFER_END;\n        att.timeSinceBufferBegin =\n          this.state.timeSinceBufferBegin.getDeltaTime();\n      }\n\n      att = this.buildBufferAttributes(att);\n      // Set the bufferType attribute of the last BUFFER_START\n      if (this._lastBufferType != null) {\n        att.bufferType = this._lastBufferType;\n      }\n\n      // this.send(ev, att);\n      this.isAd()\n        ? this.sendVideoAdAction(ev, att)\n        : this.sendVideoAction(ev, att);\n      this.state.initialBufferingHappened = true;\n    }\n  }\n\n  buildBufferAttributes(att) {\n    if (att.timeSinceStarted == undefined || att.timeSinceStarted < 100) {\n      att.isInitialBuffering = !this.state.initialBufferingHappened;\n    } else {\n      att.isInitialBuffering = false;\n    }\n\n    att.bufferType = this.state.calculateBufferType(att.isInitialBuffering);\n\n    att.timeSinceResumed = this.state.timeSinceResumed.getDeltaTime();\n    att.timeSinceSeekEnd = this.state.timeSinceSeekEnd.getDeltaTime();\n\n    return att;\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendSeekStart(att) {\n    if (this.state.goSeekStart()) {\n      let ev;\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_SEEK_START;\n      } else {\n        ev = VideoTracker.Events.CONTENT_SEEK_START;\n      }\n      // this.send(ev, att);\n\n      this.isAd()\n        ? this.sendVideoAdAction(ev, att)\n        : this.sendVideoAction(ev, att);\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendSeekEnd(att) {\n    if (this.state.goSeekEnd()) {\n      att = att || {};\n      let ev;\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_SEEK_END;\n        att.timeSinceAdSeekBegin = this.state.timeSinceSeekBegin.getDeltaTime();\n      } else {\n        ev = VideoTracker.Events.CONTENT_SEEK_END;\n        att.timeSinceSeekBegin = this.state.timeSinceSeekBegin.getDeltaTime();\n      }\n      // this.send(ev, att);\n\n      this.isAd()\n        ? this.sendVideoAdAction(ev, att)\n        : this.sendVideoAction(ev, att);\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   * @param {String} att.state Download requires a string to distinguish different states.\n   */\n  sendDownload(att) {\n    att = att || {};\n    if (!att.state) Log.warn(\"Called sendDownload without { state: xxxxx }.\");\n    this.sendVideoAction(VideoTracker.Events.DOWNLOAD, att);\n    this.state.goDownload();\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendError(att) {\n    att = att || {};\n\n    att.isAd = this.isAd();\n    this.state.goError();\n    let ev = this.isAd()\n      ? VideoTracker.Events.AD_ERROR\n      : VideoTracker.Events.CONTENT_ERROR;\n    //this.send(ev, att);\n\n    this.sendVideoErrorAction(ev, att);\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendRenditionChanged(att) {\n    att = att || {};\n    att.timeSinceLastRenditionChange =\n      this.state.timeSinceLastRenditionChange.getDeltaTime();\n    att.shift = this.getRenditionShift(true);\n    let ev;\n    if (this.isAd()) {\n      ev = VideoTracker.Events.AD_RENDITION_CHANGE;\n    } else {\n      ev = VideoTracker.Events.CONTENT_RENDITION_CHANGE;\n    }\n    //this.send(ev, att);\n\n    this.isAd()\n      ? this.sendVideoAdAction(ev, att)\n      : this.sendVideoAction(ev, att);\n\n    this.state.goRenditionChange();\n  }\n\n  /**\n   * Sends associated event and changes view state. Heartbeat will automatically be sent every\n   * 10 seconds. There's no need to call this manually.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   * @param {number} att.url Url of the clicked ad.\n   *\n   */\n  sendHeartbeat(att) {\n    if (this.state.isRequested) {\n      let ev;\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_HEARTBEAT;\n      } else {\n        ev = VideoTracker.Events.CONTENT_HEARTBEAT;\n      }\n      //this.send(ev, att);\n      this.isAd()\n        ? this.sendVideoAdAction(ev, att)\n        : this.sendVideoAction(ev, att);\n      this.state.goHeartbeat();\n    }\n  }\n\n  // Only ads\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendAdBreakStart(att) {\n    if (this.isAd() && this.state.goAdBreakStart()) {\n      this.state.totalAdPlaytime = 0;\n      if (this.parentTracker) this.parentTracker.state.isPlaying = false;\n      // this.send(VideoTracker.Events.AD_BREAK_START, att);\n      this.sendVideoAdAction(VideoTracker.Events.AD_BREAK_START, att);\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendAdBreakEnd(att) {\n    if (this.isAd() && this.state.goAdBreakEnd()) {\n      att = att || {};\n      att.timeSinceAdBreakBegin =\n        this.state.timeSinceAdBreakStart.getDeltaTime();\n      //this.send(VideoTracker.Events.AD_BREAK_END, att);\n      this.sendVideoAdAction(VideoTracker.Events.AD_BREAK_END, att);\n      // Just in case AD_END not arriving, because of an AD_ERROR\n      if (this.parentTracker) this.parentTracker.state.isPlaying = true;\n      this.stopHeartbeat();\n      if (this.parentTracker && this.isAd())\n        this.parentTracker.state.goLastAd();\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   * @param {number} att.quartile Number of the quartile.\n   */\n  sendAdQuartile(att) {\n    if (this.isAd()) {\n      att = att || {};\n      if (!att.quartile)\n        Log.warn(\"Called sendAdQuartile without { quartile: xxxxx }.\");\n      att.timeSinceLastAdQuartile =\n        this.state.timeSinceLastAdQuartile.getDeltaTime();\n      //this.send(VideoTracker.Events.AD_QUARTILE, att);\n      this.sendVideoAdAction(VideoTracker.Events.AD_QUARTILE, att);\n      this.state.goAdQuartile();\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   * @param {number} att.url Url of the clicked ad.\n   */\n  sendAdClick(att) {\n    if (this.isAd()) {\n      att = att || {};\n      if (!att.url) Log.warn(\"Called sendAdClick without { url: xxxxx }.\");\n      //this.send(VideoTracker.Events.AD_CLICK, att);\n      this.sendVideoAdAction(VideoTracker.Events.AD_CLICK, att);\n    }\n  }\n}\n\n/**\n * Enumeration of events fired by this class.\n *\n * @static\n * @memberof VideoTracker\n * @enum {String}\n */\nVideoTracker.Events = {\n  // Player\n  /** The player is ready to start sending events. */\n  PLAYER_READY: \"PLAYER_READY\",\n  /** Downloading data. */\n  DOWNLOAD: \"DOWNLOAD\",\n  /** An error happened */\n  ERROR: \"ERROR\",\n\n  // Video\n  /** Content video has been requested. */\n  CONTENT_REQUEST: \"CONTENT_REQUEST\",\n  /** Content video started (first frame shown). */\n  CONTENT_START: \"CONTENT_START\",\n  /** Content video ended. */\n  CONTENT_END: \"CONTENT_END\",\n  /** Content video paused. */\n  CONTENT_PAUSE: \"CONTENT_PAUSE\",\n  /** Content video resumed. */\n  CONTENT_RESUME: \"CONTENT_RESUME\",\n  /** Content video seek started */\n  CONTENT_SEEK_START: \"CONTENT_SEEK_START\",\n  /** Content video seek ended. */\n  CONTENT_SEEK_END: \"CONTENT_SEEK_END\",\n  /** Content video beffering started */\n  CONTENT_BUFFER_START: \"CONTENT_BUFFER_START\",\n  /** Content video buffering ended */\n  CONTENT_BUFFER_END: \"CONTENT_BUFFER_END\",\n  /** Content video heartbeat, en event that happens once every 30 seconds while the video is playing. */\n  CONTENT_HEARTBEAT: \"CONTENT_HEARTBEAT\",\n  /** Content video stream qwuality changed. */\n  CONTENT_RENDITION_CHANGE: \"CONTENT_RENDITION_CHANGE\",\n  /** Content video error. */\n  CONTENT_ERROR: \"CONTENT_ERROR\",\n\n  // Ads only\n  /** Ad video has been requested. */\n  AD_REQUEST: \"AD_REQUEST\",\n  /** Ad video started (first frame shown). */\n  AD_START: \"AD_START\",\n  /** Ad video ended. */\n  AD_END: \"AD_END\",\n  /** Ad video paused. */\n  AD_PAUSE: \"AD_PAUSE\",\n  /** Ad video resumed. */\n  AD_RESUME: \"AD_RESUME\",\n  /** Ad video seek started */\n  AD_SEEK_START: \"AD_SEEK_START\",\n  /** Ad video seek ended */\n  AD_SEEK_END: \"AD_SEEK_END\",\n  /** Ad video beffering started */\n  AD_BUFFER_START: \"AD_BUFFER_START\",\n  /** Ad video beffering ended */\n  AD_BUFFER_END: \"AD_BUFFER_END\",\n  /** Ad video heartbeat, en event that happens once every 30 seconds while the video is playing. */\n  AD_HEARTBEAT: \"AD_HEARTBEAT\",\n  /** Ad video stream qwuality changed. */\n  AD_RENDITION_CHANGE: \"AD_RENDITION_CHANGE\",\n  /** Ad video error. */\n  AD_ERROR: \"AD_ERROR\",\n  /** Ad break (a block of ads) started. */\n  AD_BREAK_START: \"AD_BREAK_START\",\n  /** Ad break ended. */\n  AD_BREAK_END: \"AD_BREAK_END\",\n  /** Ad quartile happened. */\n  AD_QUARTILE: \"AD_QUARTILE\",\n  /** Ad has been clicked. */\n  AD_CLICK: \"AD_CLICK\",\n};\n\n// Private members\nfunction funnelAdEvents(e) {\n  // this.send(e.type, e.data);\n  this.sendVideoAdAction(e.type, e.data);\n}\n\nexport default VideoTracker;\n","import Chrono from \"./chrono\";\nimport Log from \"./log\";\n\n/**\n * State machine for a VideoTracker and its monitored video.\n */\nclass VideoTrackerState {\n  /** Constructor */\n  constructor() {\n    this.reset();\n\n    /**\n     * Time when the VideoTrackerState was initializated.\n     * @private\n     */\n    this._createdAt = Date.now();\n  }\n\n  /** Resets all flags and chronos. */\n  reset() {\n    /**\n     * Unique identifier of the view.\n     * @private\n     */\n    this._viewSession = null;\n\n    /**\n     * Number of views seen.\n     * @private\n     */\n    this._viewCount = 0;\n\n    /**\n     * True if it is tracking ads.\n     * @private\n     */\n    this._isAd = false;\n\n    /**\n     * Number of errors fired. 'End' resets it.\n     */\n    this.numberOfErrors = 0;\n\n    /**\n     * Number of ads shown.\n     */\n    this.numberOfAds = 0;\n\n    /**\n     * Number of videos played.\n     */\n    this.numberOfVideos = 0;\n\n    /**\n     * The amount of ms the user has been watching content (not paused, not buffering, not ads...)\n     */\n    this.totalPlaytime = 0;\n\n    /**\n     * The amount of ms the user has been watching ads during an ad break.\n     */\n    this.totalAdPlaytime = 0;\n\n    /** True if you are in the middle of an ad break. */\n    this.isAdBreak = false;\n\n    /** True if initial buffering event already happened. */\n    this.initialBufferingHappened = false;\n\n    this.resetFlags();\n    this.resetChronos();\n  }\n\n  /** Resets flags. */\n  resetFlags() {\n    /** True once the player has finished loading. */\n    this.isPlayerReady = false;\n\n    /** True if the video has been user-requested to play. ie: user cicks play. */\n    this.isRequested = false;\n\n    /** True if the video has starting playing. ie: actual images/audio showing in screen. */\n    this.isStarted = false;\n\n    /** True if the video is paused. */\n    this.isPaused = false;\n\n    /** True if the video is performing a seek action. */\n    this.isSeeking = false;\n\n    /** True if the video is currently buffering. */\n    this.isBuffering = false;\n\n    /** True if the video is currently playing (not buffering, not paused...) */\n    this.isPlaying = false;\n  }\n\n  /** Resets chronos. */\n  resetChronos() {\n    /** Chrono that counts time since last requested event. */\n    this.timeSinceRequested = new Chrono();\n\n    /** Chrono that counts time since last start event. */\n    this.timeSinceStarted = new Chrono();\n\n    /** Chrono that counts time since last pause event. */\n    this.timeSincePaused = new Chrono();\n\n    /** Chrono that counts time since last seeking start event. */\n    this.timeSinceSeekBegin = new Chrono();\n\n    /** Chrono that counts time since last buffering start event. */\n    this.timeSinceBufferBegin = new Chrono();\n\n    /** Chrono that counts time since last ad break start event. */\n    this.timeSinceAdBreakStart = new Chrono();\n\n    /** Chrono that counts time since last download event. */\n    this.timeSinceLastDownload = new Chrono();\n\n    /** Chrono that counts time since last heartbeat. */\n    this.timeSinceLastHeartbeat = new Chrono();\n\n    /** Chrono that counts time since last rendition change. */\n    this.timeSinceLastRenditionChange = new Chrono();\n\n    /** Ads only. Chrono that counts time since last ad quartile. */\n    this.timeSinceLastAdQuartile = new Chrono();\n\n    /** Content only. Chrono that counts time since last AD_END. */\n    this.timeSinceLastAd = new Chrono();\n\n    /** Chrono that counts time since last *_RESUME. Only for buffering events. */\n    this.timeSinceResumed = new Chrono();\n\n    /** Chrono that counts time since last *_SEEK_END. Only for buffering events. */\n    this.timeSinceSeekEnd = new Chrono();\n\n    /** Chrono that counts the ammount of time the video have been playing since the last event. */\n    this.playtimeSinceLastEvent = new Chrono();\n\n    /** A dictionary containing the custom timeSince attributes. */\n    this.customTimeSinceAttributes = {};\n  }\n\n  /** Returns true if the tracker is currently on ads. */\n  isAd() {\n    return this._isAd;\n  }\n\n  /** Sets if the tracker is currenlty tracking ads */\n  setIsAd(isAd) {\n    this._isAd = isAd;\n  }\n\n  /**\n   * Set the Chrono for the custom attribute\n   *\n   * @param {object} name Time since attribute name.\n   */\n  setTimeSinceAttribute(name) {\n    this.customTimeSinceAttributes[name] = new Chrono();\n    this.customTimeSinceAttributes[name].start();\n  }\n\n  /**\n   * Delete a time since attribute\n   *\n   * @param {object} name Time since attribute name.\n   */\n  removeTimeSinceAttribute(name) {\n    delete this.customTimeSinceAttributes[name];\n  }\n\n  /**\n   * Returns a random-generated view Session ID, useful to sort by views.\n   */\n  getViewSession() {\n    if (!this._viewSession) {\n      let time = new Date().getTime();\n      let random =\n        Math.random().toString(36).substring(2) +\n        Math.random().toString(36).substring(2);\n\n      this._viewSession = time + \"-\" + random;\n    }\n\n    return this._viewSession;\n  }\n\n  /**\n   * Returns a random-generated view Session ID, plus a view count, allowing you to distinguish\n   * between two videos played in the same session.\n   */\n  getViewId() {\n    return this.getViewSession() + \"-\" + this._viewCount;\n  }\n\n  /**\n   * Fills given object with state-based attributes.\n   *\n   * @param {object} att Collection fo key value attributes\n   * @return {object} Filled attributes\n   */\n  getStateAttributes(att) {\n    att = att || {};\n\n    if (this.isAd()) {\n      // Ads only\n      if (this.isRequested) {\n        att.timeSinceAdRequested = this.timeSinceRequested.getDeltaTime();\n        att.timeSinceLastAdHeartbeat =\n          this.timeSinceLastHeartbeat.getDeltaTime();\n      }\n      if (this.isStarted)\n        att.timeSinceAdStarted = this.timeSinceStarted.getDeltaTime();\n      if (this.isPaused)\n        att.timeSinceAdPaused = this.timeSincePaused.getDeltaTime();\n      if (this.isBuffering)\n        att.timeSinceAdBufferBegin = this.timeSinceBufferBegin.getDeltaTime();\n      if (this.isSeeking)\n        att.timeSinceAdSeekBegin = this.timeSinceSeekBegin.getDeltaTime();\n      if (this.isAdBreak)\n        att.timeSinceAdBreakBegin = this.timeSinceAdBreakStart.getDeltaTime();\n      att.numberOfAds = this.numberOfAds;\n    } else {\n      // Content only\n      if (this.isRequested) {\n        att.timeSinceRequested = this.timeSinceRequested.getDeltaTime();\n        att.timeSinceLastHeartbeat = this.timeSinceLastHeartbeat.getDeltaTime();\n      }\n      if (this.isStarted)\n        att.timeSinceStarted = this.timeSinceStarted.getDeltaTime();\n      if (this.isPaused)\n        att.timeSincePaused = this.timeSincePaused.getDeltaTime();\n      if (this.isBuffering)\n        att.timeSinceBufferBegin = this.timeSinceBufferBegin.getDeltaTime();\n      if (this.isSeeking)\n        att.timeSinceSeekBegin = this.timeSinceSeekBegin.getDeltaTime();\n      att.timeSinceLastAd = this.timeSinceLastAd.getDeltaTime();\n      att.numberOfVideos = this.numberOfVideos;\n    }\n    att.numberOfErrors = this.numberOfErrors;\n\n    // Playtime\n    if (!this.isAd()) {\n      // Content only\n      if (this.playtimeSinceLastEvent.startTime > 0) {\n        att.playtimeSinceLastEvent = this.playtimeSinceLastEvent.getDeltaTime();\n      } else {\n        att.playtimeSinceLastEvent = 0;\n      }\n      if (this.isPlaying) {\n        this.playtimeSinceLastEvent.start();\n      } else {\n        this.playtimeSinceLastEvent.reset();\n      }\n      this.totalPlaytime += att.playtimeSinceLastEvent;\n      att.totalPlaytime = this.totalPlaytime;\n    }\n\n    for (const [key, value] of Object.entries(this.customTimeSinceAttributes)) {\n      att[key] = value.getDeltaTime();\n    }\n\n    return att;\n  }\n\n  /**\n   * Calculate the bufferType attribute.\n   *\n   * @param {boolean} isInitialBuffering Is initial buffering event.\n   */\n  calculateBufferType(isInitialBuffering) {\n    let bufferType = \"\";\n    if (isInitialBuffering) {\n      bufferType = \"initial\";\n    } else if (this.isSeeking) {\n      bufferType = \"seek\";\n    } else if (this.isPaused) {\n      bufferType = \"pause\";\n    } else {\n      // If none of the above is true, it is a connection buffering\n      bufferType = \"connection\";\n    }\n    Log.debug(\"Buffer Type = \" + bufferType);\n\n    return bufferType;\n  }\n\n  /**\n   * Augments view count. This will be called with each *_START and *_END.\n   */\n  goViewCountUp() {\n    this._viewCount++;\n  }\n\n  /**\n   * Checks flags and changes state.\n   * @returns {boolean} True if the state changed.\n   */\n  goPlayerReady() {\n    if (!this.isPlayerReady) {\n      this.isPlayerReady = true;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goRequest() {\n    if (!this.isRequested) {\n      this.isRequested = true;\n      this.timeSinceLastAd.reset();\n      this.timeSinceRequested.start();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goStart() {\n    if (this.isRequested && !this.isStarted) {\n      if (this.isAd()) {\n        this.numberOfAds++;\n      } else {\n        this.numberOfVideos++;\n      }\n      this.isStarted = true;\n      this.isPlaying = true;\n      this.timeSinceStarted.start();\n      this.playtimeSinceLastEvent.start();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goEnd() {\n    if (this.isRequested) {\n      this.numberOfErrors = 0;\n      this.resetFlags();\n      this.timeSinceRequested.stop();\n      this.timeSinceStarted.stop();\n      this.playtimeSinceLastEvent.stop();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goPause() {\n    if (this.isStarted && !this.isPaused) {\n      this.isPaused = true;\n      this.isPlaying = false;\n      this.timeSincePaused.start();\n      this.playtimeSinceLastEvent.stop();\n      this.timeSinceResumed.reset();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goResume() {\n    if (this.isStarted && this.isPaused) {\n      this.isPaused = false;\n      this.isPlaying = true;\n      this.timeSincePaused.stop();\n      this.timeSinceResumed.start();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goBufferStart() {\n    if (this.isRequested && !this.isBuffering) {\n      this.isBuffering = true;\n      this.isPlaying = false;\n      this.timeSinceBufferBegin.start();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goBufferEnd() {\n    if (this.isRequested && this.isBuffering) {\n      this.isBuffering = false;\n      this.isPlaying = true;\n      this.timeSinceBufferBegin.stop();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goSeekStart() {\n    if (this.isStarted && !this.isSeeking) {\n      this.isSeeking = true;\n      this.isPlaying = false;\n      this.timeSinceSeekBegin.start();\n      this.timeSinceSeekEnd.reset();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goSeekEnd() {\n    if (this.isStarted && this.isSeeking) {\n      this.isSeeking = false;\n      this.isPlaying = true;\n      this.timeSinceSeekBegin.stop();\n      this.timeSinceSeekEnd.start();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goAdBreakStart() {\n    if (!this.isAdBreak) {\n      this.isAdBreak = true;\n      this.timeSinceAdBreakStart.start();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goAdBreakEnd() {\n    if (this.isAdBreak) {\n      this.isRequested = false;\n      this.isAdBreak = false;\n      this.totalAdPlaytime = this.timeSinceAdBreakStart.getDeltaTime();\n      this.timeSinceAdBreakStart.stop();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Restarts download chrono.\n   */\n  goDownload() {\n    this.timeSinceLastDownload.start();\n  }\n\n  /**\n   * Restarts heartbeat chrono.\n   */\n  goHeartbeat() {\n    this.timeSinceLastHeartbeat.start();\n  }\n\n  /**\n   * Restarts rendition change chrono.\n   */\n  goRenditionChange() {\n    this.timeSinceLastRenditionChange.start();\n  }\n\n  /**\n   * Restarts ad quartile chrono.\n   */\n  goAdQuartile() {\n    this.timeSinceLastAdQuartile.start();\n  }\n\n  /**\n   * Increments error counter.\n   */\n  goError() {\n    this.numberOfErrors++;\n  }\n\n  /**\n   * Restarts last ad chrono.\n   */\n  goLastAd() {\n    this.timeSinceLastAd.start();\n  }\n}\n\nexport default VideoTrackerState;\n","import * as nrvideo from \"newrelic-video-core\";\nimport { version } from \"../package.json\";\n\nexport default class CAFAdsTracker extends nrvideo.VideoTracker {\n  getTrackerName() {\n    return 'caf-ads';\n  }\n\n  getTrackerVersion() {\n    return version;\n  }\n\n  getVideoId() {\n    if (this.breakClip != null) {\n      return this.breakClip.id\n    }\n    return null\n  }\n\n  getTitle() {\n    if (this.breakClip != null) {\n      return this.breakClip.title\n    }\n    return null\n  }\n\n  getSrc() {\n    if (this.breakClip != null) {\n      return this.breakClip.contentId\n    }\n    return null\n  }\n\n  getDuration() {\n    if (this.breakClip != null) {\n      return this.breakClip.duration\n    }\n    return null\n  }\n\n  registerListeners() {\n    if (!this.player) return;\n\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_STARTED,\n      (event) => {\n        this.onStarted(event);\n      }\n    );\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_ENDED,\n      (event) => {\n        this.onEnded(event);\n      }\n    );\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_CLIP_LOADING,\n      (event) => {\n        this.onClipLoading(event);\n      }\n    );\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_CLIP_STARTED,\n      (event) => {\n        this.onClipStarted(event);\n      }\n    );\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_CLIP_ENDED,\n      (event) => {\n        this.onClipEnded(event);\n      }\n    );\n  }\n\n  onStarted(ev) {\n    nrvideo.Log.debug(\"onStartedAdBreak  = \", ev)\n    this.sendAdBreakStart({ adBreakId: ev.breakId });\n  }\n\n  onEnded(ev) {\n    nrvideo.Log.debug(\"onEndedAdBreak  = \", ev)\n    this.sendAdBreakEnd({ adBreakId: ev.breakId });\n  }\n\n  onClipLoading(ev) {\n    nrvideo.Log.debug(\"onClipLoading  = \", ev)\n    this.breakClip = this.player.getBreakManager().getBreakClipById(ev.breakClipId)\n    this.sendRequest();\n  }\n\n  onClipStarted(ev) {\n    nrvideo.Log.debug(\"onClipStarted  = \", ev)\n    this.sendStart();\n  }\n\n  onClipEnded(ev) {\n    nrvideo.Log.debug(\"onClipEnded  = \", ev)\n    this.sendEnd();\n  }\n}\n","import * as nrvideo from 'newrelic-video-core'\nimport Tracker from './tracker'\n\nnrvideo.CAFTracker = Tracker\n\nmodule.exports = nrvideo\n","import * as nrvideo from 'newrelic-video-core'\nimport { version } from '../package.json'\nimport CAFAdsTracker from './ads'\n\nexport default class CAFTracker extends nrvideo.VideoTracker {\n\n  /**\n   * Constructor\n   */\n  constructor () {\n    super()\n    this.reset()\n    this.registerListeners()\n  }\n\n  registerListeners() {\n    /** CORE Events */\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_FOCUS_STATE, event => { this.onRequestFocusState(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_LOAD, event => { this.onRequestLoad(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_STOP, event => { this.onRequestStop(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_PAUSE, event => { this.onRequestPause(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_PLAY, event => { this.onRequestPlay(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_PLAY_AGAIN, event => { this.onRequestPlayAgain(event) })\n    this.player.addEventListener(cast.framework.events.EventType.BUFFERING, event => { this.onBuffering(event) })\n    this.player.addEventListener(cast.framework.events.EventType.MEDIA_FINISHED, event => { this.onMediaFinished(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PAUSE, event => { this.onPause(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYER_LOADING, event => { this.onPlayerLoading(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE, event => { this.onPlayerLoadComplete(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYER_PRELOADING, event => { this.onPlayerPreloading(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYER_PRELOADING_CANCELLED, event => { this.onPlayerPreloadingCancelled(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYING, event => { this.onPlaying(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_SEEK, event => { this.onSeekStart(event) })\n    this.player.addEventListener(cast.framework.events.EventType.SEEKED, event => { this.onSeekEnd(event) })\n    this.player.addEventListener(cast.framework.events.EventType.ERROR, event => { this.onError(event) })\n    this.receiverContext.addEventListener(cast.framework.system.EventType.SHUTDOWN, event => { this.onShutdown(event)})\n\n    /** DEBUG Events */\n    this.player.addEventListener(cast.framework.events.EventType.BITRATE_CHANGED, event => { this.onBitrateChanged(event) })\n    this.player.addEventListener(cast.framework.events.EventType.ENDED, event => { this.onEnded(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAY, event => { this.onPlay(event) })\n\n    if (!this.adsTracker) {\n      this.setAdsTracker(new CAFAdsTracker(this.player))\n    }\n  }\n\n  reset () {\n    this.receiverContext = cast.framework.CastReceiverContext.getInstance()\n    this.player = this.receiverContext.getPlayerManager()\n    this._currentBitrate = 0\n  }\n\n  getAttributes (att) {\n    att = super.getAttributes(att)\n\n    if (this.receiverContext.getSenders().length != 0) {\n      att.senderUserAgent = this.receiverContext.getSenders()[0].userAgent\n    }\n\n    return att\n  }\n\n  /** Tracker getters */\n\n  getTrackerName () {\n    return 'caf'\n  }\n\n  getTrackerVersion () {\n    return version\n  }\n\n  getVideoId () {\n    try {\n      return this.player.getMediaInformation().contentId\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getPlayhead () {\n    return this.player.getCurrentTimeSec() * 1000\n  }\n\n  getDuration () {\n    try {\n      return this.player.getDurationSec() * 1000\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getBitrate () {\n    try {\n      return this.player.getStats().streamBandwidth\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getFps () {\n    //TODO\n  }\n\n  getRenditionBitrate () {\n    return this._currentBitrate\n  }\n\n  getRenditionName () {\n    //TODO\n  }\n\n  getRenditionWidth () {\n    try {\n      return this.player.getStats().width\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getRenditionHeight () {\n    try {\n      return this.player.getStats().height\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getTitle () {\n    try {\n      return this.player.getMediaInformation().metadata.title\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getSrc () {\n    try {\n      if (this.player.getMediaInformation().contentUrl != null)\n        return this.player.getMediaInformation().contentUrl\n    }\n    catch (e) {\n      return this.getVideoId()\n    }\n  }\n\n  getPlayerVersion () {\n    try {\n      return cast.player.api.VERSION\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  isMuted () {\n    try {\n      return this.receiverContext.getSystemVolume().muted\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getPlayrate () {\n    return this.player.getPlaybackRate()\n  }\n\n  isAutoplayed () {\n    //TODO\n  }\n\n  getPreload () {\n    //TODO\n  }\n\n  getLanguage () {\n    return this.player.getPreferredTextLanguage()\n  }\n\n  /** CORE Events Listeners */\n\n  onRequestFocusState (ev) {\n    nrvideo.Log.debug(\"onRequestFocusState = \", ev)\n    this.sendPlayerReady()\n  }\n\n  onRequestLoad (ev) {\n    nrvideo.Log.debug(\"OnRequestLoad = \", ev)\n  }\n\n  onRequestStop (ev) {\n    nrvideo.Log.debug(\"OnRequestStop = \", ev)\n  }\n\n  onRequestPause (ev) {\n    nrvideo.Log.debug(\"onRequestPause  = \", ev)\n  }\n\n  onRequestPlay (ev) {\n    nrvideo.Log.debug(\"onRequestPlay  = \", ev)\n    this.sendRequest()\n  }\n\n  onRequestPlayAgain (ev) {\n    nrvideo.Log.debug(\"onRequestPlayAgain  = \", ev)\n  }\n\n  onBuffering (ev) {\n    nrvideo.Log.debug(\"onBuffering  = \", ev)\n    if (ev.isBuffering) {\n      if (this.adsTracker.state.isAdBreak) {\n        nrvideo.Log.debug(\"Ad buffer start\")\n        this.adsTracker.sendBufferStart();\n      } else {\n        nrvideo.Log.debug(\"Buffer start\")\n        this.sendBufferStart()\n      }\n    }\n    else {\n      if (this.adsTracker.state.isAdBreak) {\n        nrvideo.Log.debug(\"Ad buffer end\")\n        this.adsTracker.sendBufferEnd();\n      } else {\n        nrvideo.Log.debug(\"Buffer end\")\n        this.sendBufferEnd()\n      }\n    }\n  }\n\n  onMediaFinished (ev) {\n    nrvideo.Log.debug(\"onMediaFinished  = \", ev)\n    console.log(\"Pause\")\n    this.sendEnd()\n  }\n\n  onPause (ev) {\n    nrvideo.Log.debug(\"onPause  = \", ev)\n    if (!ev.ended) {\n      console.log(\"Pause\")\n      this.sendPause()\n    }\n  }\n\n  onPlayerLoading (ev) {\n    nrvideo.Log.debug(\"onPlayerLoading  = \", ev)\n    console.log(\"Pause\")\n    this.sendRequest()\n  }\n\n  onPlayerLoadComplete (ev) {\n    nrvideo.Log.debug(\"onPlayerLoadComplete  = \", ev)\n  }\n\n  onPlayerPreloading (ev) {\n    nrvideo.Log.debug(\"onPlayerPreloading  = \", ev)\n  }\n\n  onPlayerPreloadingCancelled (ev) {\n    nrvideo.Log.debug(\"onPlayerPreloadingCancelled  = \", ev)\n  }\n\n  onPlaying (ev) {\n    if (!this.adsTracker.state.isAdBreak) {\n      nrvideo.Log.debug(\"onPlaying  = \", ev);\n      if (this.state.isPaused) {\n        console.log(\"Pause\")\n        this.sendResume()\n      } else {\n        console.log(\"Pause\")\n        this.sendStart()\n      }\n    }\n  }\n\n  onSeekStart (ev) {\n    nrvideo.Log.debug(\"onSeekStart  = \", ev)\n    this.sendSeekStart()\n  }\n\n  onSeekEnd (ev) {\n    nrvideo.Log.debug(\"onSeekEnd  = \", ev)\n    this.sendSeekEnd()\n  }\n\n  onShutdown (ev) {\n    nrvideo.Log.debug(\"onShutdown  = \", ev)\n    this.sendEnd()\n    this.dispose()\n  }\n  \n  onError (ev) {\n    nrvideo.Log.debug(\"onError  = \", ev)\n    this.sendError({errorCode: ev.detailedErrorCode, errorMessage: ev.reason})\n  }\n\n  /** DEBUG Events Listeners */\n\n  onBitrateChanged (ev) {\n    nrvideo.Log.debug(\"onBitrateChanged  = \", ev)\n    this._currentBitrate = ev.totalBitrate\n    this.sendRenditionChanged()\n  }\n\n  onEnded (ev) {\n    nrvideo.Log.debug(\"onEnded  = \", ev)\n  }\n\n  onPlay (ev) {\n    nrvideo.Log.debug(\"onPlay  = \", ev)\n  }\n}\n\n// Static members\nexport {\n  CAFAdsTracker\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.js\");\n",""],"names":["Backend","constructor","eventType","_attributes","send","event","data","Object","assign","setAttribute","key","value","setAttributes","attr","append","_default","exports","default","Chrono","reset","startTime","stopTime","offset","getDeltaTime","Date","getTime","start","stop","clone","chrono","Constants","AdPositions","PRE","MID","POST","ACTION_TABLE","actionName","time","_log","_interopRequireDefault","require","_backend","e","__esModule","Core","addTracker","tracker","on","emit","trackers","push","eventHandler","trackerInit","Log","error","removeTracker","off","dispose","index","indexOf","splice","getTrackers","getBackend","backend","setBackend","backendInstance","undefined","newrelic","addPageAction","recordCustomEvent","isErrorShown","sendError","att","cleanData","level","Levels","DEBUG","notice","type","ret","i","Emitter","callback","_listeners","Array","isArray","forEach","call","target","_nrinsightsbackend","_core","_constants","_chrono","_emitter","_tracker","_videotracker","_videotrackerstate","_package","_len","arguments","length","msg","_key","_report","ERROR","warn","_len2","_key2","WARNING","_len3","_key3","slice","NOTICE","debug","_len4","_key4","debugCommonVideoEvents","o","extraEvents","report","playerEvents","shift","concat","window","addEventListener","addEventHandler","err","SILENT","ALL","colorful","includeTime","prefix","color","_getCurrentTime","_level2letter","document","documentMode","_plainReport","logMethod","console","cast","log","apply","d","hh","getDate","mm","getMinutes","ss","getSeconds","mmm","getMilliseconds","m","_letters","_loadLevelFromUrl","location","search","exec","m2","NRInsightsBackend","accountId","apiKey","_accountId","_apiKey","_eventType","_eventBuffer","_harvestLocked","_lastTimestamp","setInterval","harvestHandler","Source","TIMER","generateAttributes","timestamp","now","href","origin","pathname","referrer","OSName","navigator","userAgent","match","agentName","deviceType","source","pushEventToInsights","pop","ev","requestOptions","method","headers","body","JSON","stringify","url","fetch","then","response","json","insightsRequestResponse","catch","FETCH","Tracker","options","customData","heartbeat","parentTracker","_trackerReadyChrono","_actionTable","_actionAdTable","ACTION_AD_TABLE","setOptions","unregisterListeners","registerListeners","getHeartbeat","startHeartbeat","_heartbeatInterval","sendHeartbeat","bind","Math","max","stopHeartbeat","clearInterval","sendVideoAction","Events","HEARTBEAT","getAttributes","trackerName","getTrackerName","trackerVersion","getTrackerVersion","coreVersion","pkg","version","timeSinceTrackerReady","hidden","isBackgroundEvent","getElapsedTime","action","elapsedTime","actionObj","sendVideoAdAction","sendVideoErrorAction","isAd","sendVideoCustomAction","VideoTracker","player","state","TrackerState","adsTracker","_lastBufferType","setPlayer","tag","_userId","setAdsTracker","setIsAd","prototype","setUserId","userId","getElementById","disposeAdsTracker","funnelAdEvents","getViewId","getViewSession","getVideoId","getTitle","isLive","getBitrate","getWebkitBitrate","webkitVideoDecodedByteCount","bitrate","_lastWebkitBitrate","delta","seconds","round","getRenditionName","getRenditionBitrate","getRenditionShift","saveNewRendition","current","last","_lastAdRendition","_lastRendition","getRenditionHeight","videoHeight","getRenditionWidth","videoWidth","getDuration","duration","getPlayhead","currentTime","getLanguage","getSrc","currentSrc","getPlayrate","playbackRate","isMuted","muted","isFullscreen","getCdn","getPlayerName","getPlayerVersion","getFps","isAutoplayed","autoplay","getPreload","preload","getAdQuartile","getAdPosition","isStarted","getAdPartner","getAdCreativeId","getInstrumentationProvider","getInstrumentationName","getInstrumentationVersion","viewSession","viewId","playerName","playerVersion","pageUrl","adId","adTitle","adSrc","adCdn","adBitrate","adRenditionName","adRenditionBitrate","adRenditionHeight","adRenditionWidth","adDuration","adPlayhead","adLanguage","adIsMuted","adFps","adQuartile","adPosition","adCreativeId","adPartner","contentId","contentTitle","contentSrc","contentCdn","contentIsLive","contentBitrate","contentRenditionName","contentRenditionBitrate","contentRenditionHeight","contentRenditionWidth","contentDuration","contentPlayhead","contentLanguage","contentPlayrate","contentIsFullscreen","contentIsMuted","contentIsAutoplayed","contentPreload","contentFps","totalAdPlaytime","getStateAttributes","sendCustom","timeSinceAttName","setTimeSinceAttribute","sendPlayerReady","goPlayerReady","PLAYER_READY","sendRequest","goRequest","AD_REQUEST","CONTENT_REQUEST","goHeartbeat","sendStart","goStart","AD_START","isPlaying","CONTENT_START","sendEnd","goEnd","AD_END","timeSinceAdRequested","timeSinceRequested","timeSinceAdStarted","timeSinceStarted","CONTENT_END","goLastAd","goViewCountUp","totalPlaytime","sendPause","goPause","AD_PAUSE","CONTENT_PAUSE","sendResume","goResume","AD_RESUME","timeSinceAdPaused","timeSincePaused","CONTENT_RESUME","sendBufferStart","goBufferStart","AD_BUFFER_START","CONTENT_BUFFER_START","buildBufferAttributes","bufferType","sendBufferEnd","goBufferEnd","AD_BUFFER_END","timeSinceAdBufferBegin","timeSinceBufferBegin","CONTENT_BUFFER_END","initialBufferingHappened","isInitialBuffering","calculateBufferType","timeSinceResumed","timeSinceSeekEnd","sendSeekStart","goSeekStart","AD_SEEK_START","CONTENT_SEEK_START","sendSeekEnd","goSeekEnd","AD_SEEK_END","timeSinceAdSeekBegin","timeSinceSeekBegin","CONTENT_SEEK_END","sendDownload","DOWNLOAD","goDownload","goError","AD_ERROR","CONTENT_ERROR","sendRenditionChanged","timeSinceLastRenditionChange","AD_RENDITION_CHANGE","CONTENT_RENDITION_CHANGE","goRenditionChange","isRequested","AD_HEARTBEAT","CONTENT_HEARTBEAT","sendAdBreakStart","goAdBreakStart","AD_BREAK_START","sendAdBreakEnd","goAdBreakEnd","timeSinceAdBreakBegin","timeSinceAdBreakStart","AD_BREAK_END","sendAdQuartile","quartile","timeSinceLastAdQuartile","AD_QUARTILE","goAdQuartile","sendAdClick","AD_CLICK","VideoTrackerState","_createdAt","_viewSession","_viewCount","_isAd","numberOfErrors","numberOfAds","numberOfVideos","isAdBreak","resetFlags","resetChronos","isPlayerReady","isPaused","isSeeking","isBuffering","timeSinceLastDownload","timeSinceLastHeartbeat","timeSinceLastAd","playtimeSinceLastEvent","customTimeSinceAttributes","name","removeTimeSinceAttribute","random","toString","substring","timeSinceLastAdHeartbeat","entries","nrvideo","_interopRequireWildcard","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","set","CAFAdsTracker","breakClip","id","title","framework","events","EventType","BREAK_STARTED","onStarted","BREAK_ENDED","onEnded","BREAK_CLIP_LOADING","onClipLoading","BREAK_CLIP_STARTED","onClipStarted","BREAK_CLIP_ENDED","onClipEnded","adBreakId","breakId","getBreakManager","getBreakClipById","breakClipId","CAFTracker","module","_ads","REQUEST_FOCUS_STATE","onRequestFocusState","REQUEST_LOAD","onRequestLoad","REQUEST_STOP","onRequestStop","REQUEST_PAUSE","onRequestPause","REQUEST_PLAY","onRequestPlay","REQUEST_PLAY_AGAIN","onRequestPlayAgain","BUFFERING","onBuffering","MEDIA_FINISHED","onMediaFinished","PAUSE","onPause","PLAYER_LOADING","onPlayerLoading","PLAYER_LOAD_COMPLETE","onPlayerLoadComplete","PLAYER_PRELOADING","onPlayerPreloading","PLAYER_PRELOADING_CANCELLED","onPlayerPreloadingCancelled","PLAYING","onPlaying","REQUEST_SEEK","onSeekStart","SEEKED","onSeekEnd","onError","receiverContext","system","SHUTDOWN","onShutdown","BITRATE_CHANGED","onBitrateChanged","ENDED","PLAY","onPlay","CastReceiverContext","getInstance","getPlayerManager","_currentBitrate","getSenders","senderUserAgent","getMediaInformation","getCurrentTimeSec","getDurationSec","getStats","streamBandwidth","width","height","metadata","contentUrl","api","VERSION","getSystemVolume","getPlaybackRate","getPreferredTextLanguage","ended","errorCode","detailedErrorCode","errorMessage","reason","totalBitrate"],"sourceRoot":""}